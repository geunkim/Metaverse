# Avata DID

Metaverseì—ì„œ ì‚¬ìš©í•˜ê¸° ìœ„í•œ Avataì— DID ì ìš©

![20230407_metaverse_Avater_2.png](./Image/20230407_metaverse_Avater_2.png)

## Avata DID ìƒí™©ì— ë”°ë¥¸ ì„¤ê³„

### ì²˜ìŒ ì‹¤í–‰ ì‹œ (íšŒì› ê°€ì…)

1. ì™¸ë¶€ ì§€ê°‘ê³¼ì˜ ì—°ê²° ë˜ëŠ” ë‚´ë¶€ ì§€ê°‘ ìƒì„±
2. ì§€ê°‘ ë‚´ ìƒˆë¡œìš´ DID ìƒì„± ë° ë©”íƒ€ë²„ìŠ¤ ë‚´ì—ì„œ ì‚¬ìš©í•  ì•„ë°”íƒ€ ìƒì„±
3. ì•„ë°”íƒ€ì™€ DIDë¥¼ ë§¤í•‘í•˜ì—¬ ì„œë²„ì— ì €ì¥

â†’ ì¤‘ê°„ì— ì¸ì¦ ê³¼ì •ì´ í•„ìš”í•œê°€? (ê¸°ì¡´ ë©”íƒ€ë²„ìŠ¤ì—ì„œ ë²”ì£„ë¥¼ ì €ì§€ë¥¸ ì‚¬ëŒì„ ìœ ì¶”)

â†’ ë¡œì»¬ì— ì•„ë°”íƒ€ ì €ì¥, ë‹¤ë¥¸ ê³³ì—ì„œë„ ì‚¬ìš© ê°€ëŠ¥

â†’ ì•„ë°”íƒ€ì˜ ë²”ìœ„? â†’ ì•„ë°”íƒ€ ê´€ë ¨ í‘œì¤€ì´ ìˆëŠ”ê°€?

<aside>
ğŸ’¡ ì•„ë°”íƒ€ í‘œì¤€ì˜ ê²½ìš° í˜„ì¬ VRM, Ready Player Me, VRCê°€ ìˆìœ¼ë©° ëŒ€ë¶€ë¶„ Unityë¥¼ ì§€ì›í•œë‹¤.  Unityì˜ ê²½ìš° ì—”ì§„ ë‚´ì—ì„œ ì‚¬ìš©í•˜ê¸° ìœ„í•œ ëª¨ë¸ì˜ í‘œì¤€ì´ ì‘ì„±ë˜ì–´ ìˆë‹¤. ë˜í•œ Metaverseì—ì„œ ì‚¬ìš©í•˜ê¸° ìœ„í•œ ì•„ë°”íƒ€ í‘œì¤€ì˜ ê²½ìš° Metaverse-standards forumì—ì„œ í˜‘ì˜ ì§„í–‰ ì¤‘ì´ë‹¤.

</aside>

<aside>
ğŸ’¡ VRMì˜ ê²½ìš° íŒŒì¼ í¬ë§·ì´ë©° VRM í™•ì¥ìë¡œ ë§Œë“¤ì–´ì§„ ëª¨ë¸ì€ VRM ê¸°ëŠ¥ì„ ì§€ì›í•˜ëŠ” ëª¨ë“  í”„ë¡œê·¸ë¨ì— ììœ ë¡­ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

</aside>

- ê´€ë ¨ ë§í¬)
    
    [VRM](https://vrm.dev/en/)
    
    [Ready Player Me](https://docs.readyplayer.me/ready-player-me/)
    
    [VRC](https://docs.vrchat.com/docs/rig-requirements)
    
    [Unity ë©”ë‰´ì–¼](https://docs.unity3d.com/Manual/CreatingDCCAssets.html)
    
    [Metaverse-standards forum](https://metaverse-standards.org/)
    
- ê·¸ì™¸ ì•„ë°”íƒ€ í‘œì¤€ ê´€ë ¨ ë§í¬)
    
    [ì• ë‹ˆë©”ì´ì…˜ ê´€ë ¨ í‘œì¤€ glTF](https://github.com/KhronosGroup/glTF)
    
    [Web3D](https://www.web3d.org/)
    

â†’ ì¸ì¦ ì‹œ ì•„ë°”íƒ€ë¥¼ ì‚¬ìš©í•œ ì¸ì¦ì€ ê°€ëŠ¥í•œê°€? â†’ ë¸”ë¡ì²´ì¸ì— DID ì €ì¥ ì‹œ ì•„ë°”íƒ€ ì •ë³´ë¥¼ ê°™ì´ ì €ì¥í•˜ë©° ì´í›„ í•´ë‹¹ ì•„ë°”íƒ€ë¥¼ ì‚¬ìš©í•´ ë¡œê·¸ì¸ â†’ ì•„ë°”íƒ€ í•˜ë‚˜ì— ì¢…ì†ì ì´ë©° ì•„ë°”íƒ€ ë¶„ì‹¤ ë˜ëŠ” ë³µì œ ì‹œ ì´ì— ëŒ€í•œ ëŒ€ì²˜ ë°©ë²•ì´ í•„ìš” â†’ ë¸”ë¡ì²´ì¸ì— ì €ì¥í•  ì•„ë°”íƒ€ ì •ë³´?

â†’ ìœ ë‹ˆí‹°ì—ì„œ ì—°ê²°í•  ì§€ê°‘ì€? â†’ ì™¸ë¶€ ì§€ê°‘ì„ ì—°ê²°í•˜ê¸° ìœ„í•œ ë°©ë²•? 

- ìœ ë‹ˆí‹° ì§€ê°‘ ê´€ë ¨ ë§í¬)
    
    [moralis - Unity App to a Web3 Wallet](https://moralis.io/how-to-connect-a-unity-app-to-a-web3-wallet/)
    
    [Unity-Solana Wallet](https://github.com/allartprotocol/unity-solana-wallet)
    

### ì²˜ìŒ ì‹¤í–‰ ì´í›„ ì‚¬ìš© ì‹œ (ë¡œê·¸ì¸)

1. ë‚´ë¶€ ì €ì¥ì†Œë¥¼ ì½ì–´ ì§€ê°‘ í™•ì¸ ë˜ëŠ” DIDì™€ ê³µê°œ í‚¤ë¡œ ë¡œê·¸ì¸

### ë©”íƒ€ë²„ìŠ¤ ë‚´ë¶€ì˜ ì¸ì¦ ìƒí™©

- ë©”íƒ€ë²„ìŠ¤ ë‚´ë¶€ì—ì„œ VC ë°œê¸‰ ì‹œ
- ë©”íƒ€ë²„ìŠ¤ ë‚´ë¶€ì—ì„œ VP ì‚¬ìš© ì‹œ
- ì™¸ë¶€ì—ì„œ ë°œê¸‰í•œ VCë¥¼ ë©”íƒ€ë²„ìŠ¤ ë‚´ë¶€ì—ì„œ ì‚¬ìš© ì‹œ
- 

### ì•„ë°”íƒ€ì˜ VC ë°œê¸‰ ê³¼ì •

1. ì´ì „ í™œë™ì„ í†µí•´ ë°œê¸‰ìì™€ì˜ ì¸ì¦ ì™„ë£Œ
2. ì•„ë°”íƒ€ì˜ DIDì™€ VC ë°œê¸‰ìì˜ DIDë¥¼ ì‚¬ìš©í•œ ì—°ê²°
3. DIDCommì„ ì‚¬ìš©í•œ í†µì‹ ì„ í†µí•´ VC ì „ë‹¬

### ì•„ë°”íƒ€ì˜ VP ì œì‹œ ê³¼ì •

1. ì•„ë°”íƒ€ì˜ ì„œë¹„ìŠ¤ ì‚¬ìš© ìš”ì²­
2. ê²€ì¦ìì˜ VP ì œì¶œ ìš”ì²­ (ì´ë•Œ ê²€ì¦ì— í•„ìš”í•œ ì •ë³´ ì „ë‹¬)
3. VP ì œì¶œ ìš”ì²­ ê¸°ë°˜ìœ¼ë¡œ VP ìƒì„± í›„ ì „ë‹¬
4. ê²€ì¦ìëŠ” ë°›ì€ VPë¥¼ ê²€ì¦
5. ê²€ì¦ ê²°ê³¼ì— ë”°ë¼ ì„œë¹„ìŠ¤ ì œê³µ ë˜ëŠ” ê±°ë¶€

### ì˜ˆì‹œ ìƒí™©1) ë©”íƒ€ë²„ìŠ¤ ì§‘ ì¶œì…

1. ì‚¬ìš©ìê°€ ë©”íƒ€ë²„ìŠ¤ ë‚´ì˜ ì§‘ì„ êµ¬ë§¤
    1. ì‚¬ìš©ìê°€ ì§ì ‘ ì§‘ì„ ë§Œë“¤ ê²½ìš°?
2. ì§‘ ì œê³µìëŠ” ì‚¬ìš©ìì—ê²Œ ì§‘ì˜ ì£¼ì¸ì´ë¼ëŠ” ì¦ëª…ì„œ ì œê³µ
    1. NFTë¥¼ ì‚¬ìš©í•œ ì¦ëª…ì„œ ë˜ëŠ” DIDë¥¼ ì‚¬ìš©í•œ VC
    2. ì§‘ì˜ ì ê¸ˆ ì¥ì¹˜ê°€ ì‚¬ìš©ìì˜ DIDì™€ ê³µê°œ í‚¤ë¥¼ ì €ì¥
3. ì‚¬ìš©ìëŠ” ì¦ëª…ì„œë¥¼ ì§€ê°‘ì— ì €ì¥
4. ì§‘ ì¶œì…ì„ ìœ„í•´ ì‚¬ìš©ìê°€ ì§‘ì— ì ‘ê·¼
5. ì‚¬ìš©ìê°€ ë³¸ì¸ì˜ DIDë¥¼ ì œê³µí•˜ì—¬ ì§‘ ì£¼ì¸ì„ì„ ì¸ì¦
    1. ì§‘ì˜ ì ê¸ˆ ì¥ì¹˜ê°€ ì‚¬ìš©ìì˜ DIDë¥¼ í†µí•´ ì‹ ì› ì¸ì¦ ì§„í–‰
    2. ì§‘ì˜ ì ê¸ˆ ì¥ì¹˜ì— ì‚¬ìš©ìì˜ DIDê°€ ë“±ë¡ë˜ì–´ ê°€ë²¼ìš´ DID Authë¥¼ í†µí•´ ì¸ì¦
6. ì¸ì¦ì´ ì™„ë£Œë˜ë©´ ì‚¬ìš©ìê°€ ì§‘ì— ì¶œì…

- ì¶”ê°€ ì¶œì²˜
    
    [ë©”íƒ€ë²„ìŠ¤ì™€ ì˜¤í”ˆì†ŒìŠ¤](https://www.oss.kr/oss_guide/show/c203c6fb-c9cc-4e67-bb65-ea177244ecdd)
    
    [ì˜¤í”ˆ ë©”íƒ€ë²„ìŠ¤ ë…¼ë¬¸](https://outlierventures.io/research/the-open-metaverse-os/)
    

# Unityì— DID ì ìš©

## python wrapper ì‚¬ìš©

### Unityì—ì„œ Python ì‚¬ìš©

Unityì—ì„  Pythonì„ ìœ„í•œ ê¸°ëŠ¥ì„ ì œê³µí•˜ê³  ìˆìœ¼ë©° ì´ëŠ” íŒ¨í‚¤ì§€ ë§¤ë‹ˆì €ë¥¼ í†µí•´ ë‹¤ìš´ë°›ì„ ìˆ˜ ìˆë‹¤. [ìì„¸í•œ ì •ë³´ëŠ” ë§í¬ì— ìˆë‹¤.](https://docs.unity3d.com/Packages/com.unity.scripting.python@7.0/manual/index.html)


ë¨¼ì € Unityë¥¼ ì‹¤í–‰í•´ í”„ë¡œì íŠ¸ë¥¼ ìƒì„±í•œ ë’¤ ì°½ì„ ë„ìš´ë‹¤. ë‹¤ìŒ â€˜Window â†’ Package Managerâ€™ë¥¼ í´ë¦­í•´ Package Manager ì°½ì„ ë„ìš´ë‹¤. ë‹¤ìŒ â€˜+â€™ë¥¼ í´ë¦­í•´ â€˜Add pakage by nameâ€™ì„ í´ë¦­í•˜ì—¬ â€˜com.unity.scripting.pythonâ€™ì„ ì…ë ¥í•´ ì¶”ê°€í•œë‹¤. 

- Unityì—ì„œ ì œê³µí•˜ëŠ” Python ì‚¬ìš©ì„ ìœ„í•œ íŒ¨í‚¤ì§€ëŠ” ì•„ë˜ì™€ ê°™ë‹¤.

![Untitled](./Image/Untitled.png)

íŒ¨í‚¤ì§€ë¥¼ ë‹¤ìš´ ë°›ìœ¼ë©´ Unity ì°½ìœ¼ë¡œ ëŒì•„ê°€ â€˜Window â†’ General â†’ Python Consolâ€™ì„ í´ë¦­í•œë‹¤. â€˜Python Consolâ€™ì„ í´ë¦­í•˜ë©´ â€˜Python Script Editorâ€™ ì°½ì´ ëœ¨ë©° Pythonì„ ì‹¤í–‰í•  ìˆ˜ ìˆë‹¤.

- ì•„ë˜ì˜ ì½”ë“œëŠ” Python ë²„ì „ì„ ì¶œë ¥í•˜ëŠ” ì½”ë“œì´ë©° ì•„ë˜ì— ì½”ë“œë¥¼ ì‘ì„±í•œ ë’¤, Execute ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ì‹¤í–‰ëœë‹¤.

![20230504_ìœ ë‹ˆí‹°íŒŒì´ì¬_1.PNG](./Image/20230504_1.png)

ë‹¤ìŒì€ C# ìŠ¤í¬ë¦½íŠ¸ì—ì„œ Pythonì„ ì‹¤í–‰í•˜ëŠ” ë°©ë²•ì´ë‹¤. ë¨¼ì € í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•œ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‘ì„±í•œë‹¤. 

- Assets/_Script/PythonTest.cs

```csharp
using System;
using System.Collections;
using System.Collections.Generic;
using System.Diagnostics;
using UnityEditor.Scripting.Python;
using UnityEditor;
using UnityEngine;

public class PythonTest : MonoBehaviour
{
    // Start is called before the first frame update
    void Start()
    {
        
    }

    // Update is called once per frame
    void Update()
    {

        if (Input.GetKeyDown(KeyCode.W))
        {
            PrintHelloWorldFromPython();
        }

        if (Input.GetKeyDown(KeyCode.K))
        {
            IndyFromPython();
        }
    }

    static void PrintHelloWorldFromPython()
    {
        PythonRunner.RunString(@"
                import UnityEngine;
                UnityEngine.Debug.Log('hello world')
                ");
    }

    static void IndyFromPython()
    {
        UnityEngine.Debug.Log($"{Application.dataPath}");
        PythonRunner.RunFile($"{Application.dataPath}/_PythonScript/pythonTest.py");
    }
}
```

- ìœ„ ì½”ë“œëŠ” Pythonì´ ì œëŒ€ë¡œ ë™ì‘í•˜ëŠ”ì§€ í™•ì¸í•˜ê¸° ìœ„í•´ ì‘ì„±í•œ ì½”ë“œë¡œ í…ŒìŠ¤íŠ¸ ìš©ì´ë‹¤.
- Update : ì‚¬ìš©ìê°€ Wí‚¤ ë˜ëŠ” Kí‚¤ë¥¼ ëˆ„ë¥´ë©´ Python ì½”ë“œê°€ ì‹¤í–‰ë˜ë„ë¡ ì‘ì„±í–ˆë‹¤.
- PrintHelloWorldFromPython : C# ì½”ë“œ ë‚´ì—ì„œ Python ì½”ë“œë¥¼ ì‘ì„±í•˜ëŠ” ë°©ë²•ìœ¼ë¡œ PythonRunner.RunStringì— ì‹¤í–‰í•  Python ì½”ë“œë¥¼ ì‘ì„±í•´ ì‹¤í–‰ì‹œí‚¨ë‹¤.
- IndyFromPython : C# ì½”ë“œ ë°–ì—ì„œ ì‘ì„±í•œ Python ì½”ë“œë¥¼ ì‹¤í–‰í•˜ëŠ” ë°©ë²•ìœ¼ë¡œ PythonRunner.RunFileì— ì‹¤í–‰í•  Python ì½”ë“œ íŒŒì¼ ê²½ë¡œë¥¼ ì‘ì„±í•´ ì‹¤í–‰ì‹œí‚¨ë‹¤.

<aside>
ğŸ’¡ Application.dataPathëŠ” Unity í”„ë¡œì íŠ¸ ë‚´ë¶€ì˜ Asset íŒŒì¼ ê²½ë¡œì´ë‹¤.

</aside>

- Assets/_PythonScript/pythonTest.py

```python
import UnityEngine

print("python.print")
UnityEngine.Debug.Log('Unity.Log')
```

- Unity Engine íŒ¨í‚¤ì§€ëŠ” ìœ ë‹ˆí‹°ì—ì„œ ì œê³µí•´ì£¼ëŠ” íŒ¨í‚¤ì§€ë¡œ ì´ë¥¼ í†µí•´ Unity ë‚´ì˜ ê²Œì„ ì˜¤ë¸Œì íŠ¸ ì •ë³´ë‚˜ ê¸°ëŠ¥ì„ Pythonì„ í†µí•´ ì œì–´í•  ìˆ˜ ìˆë‹¤.
- ìœ„ ì½”ë“œì˜ ê²½ìš° ë‘˜ ë‹¤ ë¬¸ìì—´ì„ ì¶œë ¥í•˜ì§€ë§Œ Unityì—ì„œ ì¶œë ¥ì„ ì›í•  ê²½ìš° UnityEngineì˜ Debugë¥¼ ì‚¬ìš©í•´ì•¼ ì¶œë ¥ì„ í•  ìˆ˜ ìˆë‹¤.
- ì¶œì²˜
    
    [unityì—ì„œ python ì‚¬ìš©](https://docs.unity3d.com/Packages/com.unity.scripting.python@2.0/manual/PythonScriptEditor.html)
    
    [Unity3D ìœ ë‹ˆí‹°ì—ì„œ íŒŒì´ì¬íŒŒì¼ ì‹¤í–‰ì‹œí‚¤ê¸°(Run .py in Unity)|ì‘ì„±ì kanrhaehfdl1](https://blog.naver.com/PostView.nhn?blogId=kanrhaehfdl1&logNo=221675044575&parentCategoryNo=&categoryNo=10&viewDate=&isShowPopularPosts=true&from=search)
    
    [unity python script 6.0](https://docs.unity3d.com/Packages/com.unity.scripting.python@6.0/manual/installation.html)
    

### Unityì—ì„œ indy-sdk pyhton wrapper ì‚¬ìš©

indy-sdkì˜ ê²½ìš° wrappers ê¸°ëŠ¥ì„ ì œê³µí•´ ì¤Œìœ¼ë¡œ ë‹¤ë¥¸ í”„ë¡œê·¸ë˜ë° ì–¸ì–´ë¥¼ ì‚¬ìš©í•´ libindy ê¸°ëŠ¥ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. ì´ë¥¼ ìœ„í•´ì„  í˜„ì¬ ìš´ì˜ì²´ì œì— ë§ëŠ” libindy ë¼ì´ë¸ŒëŸ¬ë¦¬ íŒŒì¼ì„ ë°›ì•„ ì‚¬ìš©í•´ì•¼í•œë‹¤.

- ìœˆë„ìš° libindy : https://repo.sovrin.org/windows/libindy/stable/1.16.0/libindy_1.16.0.zip

Pythonì—ì„œ libindyë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„  python íŒ¨í‚¤ì§€ ë§¤ë‹ˆì €ì¸ pipë¥¼ í†µí•´ [python ìš© libindy ë°›ì•„ì•¼ í•œë‹¤.](https://github.com/hyperledger/indy-sdk/tree/main/wrappers/python) pythonì˜ ê²½ìš° íŒ¨í‚¤ì§€ ê´€ë¦¬ë¥¼ ìœ„í•´ requirements.txt íŒŒì¼ì„ ë§Œë“¤ì–´ íŒ¨í‚¤ì§€ë“¤ì„ ì •ë¦¬í•˜ê¸°ë„ í•œë‹¤.

- pipë¥¼ ì‚¬ìš©í•œ íŒ¨í‚¤ì§€ ë‹¤ìš´ë¡œë“œ
```python
pip install python3-indy
```
- requirements.txt íŒŒì¼ì„ ì‚¬ìš©

    - requirements.txt íŒŒì¼ì— í•„ìš”í•œ íŒ¨í‚¤ì§€ ì‘ì„± í›„ pip ì‹¤í–‰

```python
python3_indy==2.1.1
```

```python
pip install -r requirements.txt
```

[Unity Python ë¬¸ì„œ](https://docs.unity3d.com/Packages/com.unity.scripting.python@7.0/manual/settings.html)ì—ì„œëŠ” Unityì—ì„œ ì‚¬ìš©í•˜ëŠ” Python íŒ¨í‚¤ì§€ëŠ” pipë¥¼ ì‚¬ìš©í•´ ë‹¤ìš´ë°›ì„ ìˆ˜ ìˆìœ¼ë©° 'Library/PythonInstall/Lib/site-packages' ê²½ë¡œì—ì„œ í™•ì¸ ê°€ëŠ¥í•˜ë‹¤. ë˜í•œ 'requirements.txt'ì„ ì‚¬ìš©í•œ ë‹¤ìš´ì„ í•  ê²½ìš° 'ProjectSettings/requirements.txt' ê²½ë¡œì— íŒŒì¼ì„ ë†“ì•„ì•¼í•˜ë©° Unityë¥¼ ì‹œì‘í•  ë•Œ ì ìš©ëœë‹¤.

ì•„ë˜ëŠ” indy-sdk ì‹¤í–‰ í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•´ ì‘ì„±í•˜ëŠ” ì½”ë“œë¡œ pool ì—°ê²°ì´ í•„ìš”ì—†ëŠ” ì§€ê°‘ ìƒì„± ì½”ë“œë§Œ ì‘ì„±í•œ ë¶€ë¶„ì´ë‹¤.

- Assets\_PythonScript\pythonTest.py

```python
import sys, os
import asyncio
import json
import pprint
from pathlib import Path

from indy import pool, ledger, wallet, did, anoncreds
from indy.error import ErrorCode, IndyError

import UnityEngine

# libindy ê²½ë¡œì— ë§ì¶° ìˆ˜ì •, ìœˆë„ìš° ê¸°ì¤€
os.add_dll_directory("D:\libindy_1.16.0\lib")

pool_name = 'pool'
issuer_wallet_config = json.dumps({"id": "issuer_wallet"})
issuer_wallet_credentials = json.dumps({"key": "issuer_wallet_key"})
genesis_file_path = Path.home().joinpath("pool_transactions_genesis")

async def proof_negotiation():
    try:

        # 3.
        UnityEngine.Debug.Log('\n3. Creating Issuer wallet and opening it to get the handle.\n')
        try:
            await wallet.create_wallet(issuer_wallet_config, issuer_wallet_credentials)
        except IndyError as ex:
            if ex.error_code == ErrorCode.WalletAlreadyExistsError:
                pass

        issuer_wallet_handle = await wallet.open_wallet(issuer_wallet_config, issuer_wallet_credentials)

        # 4.
        UnityEngine.Debug.Log('\n4. Generating and storing steward DID and verkey\n')
        steward_seed = '000000000000000000000000Steward1'
        did_json = json.dumps({'seed': steward_seed})
        steward_did, steward_verkey = await did.create_and_store_my_did(issuer_wallet_handle, did_json)

        # 22.
        UnityEngine.Debug.Log('\n22. Closing both wallet_handles and pool\n')
        await wallet.close_wallet(issuer_wallet_handle)

        # 23.
        UnityEngine.Debug.Log('\n23. Deleting created wallet_handles\n')
        await wallet.delete_wallet(issuer_wallet_config, issuer_wallet_credentials)

    except IndyError as e:
        UnityEngine.Debug.Log('Error occurred: %s' % e)

def main():
    #os.add_dll_directory("D:\libindy_1.16.0\lib")
    UnityEngine.Debug.Log("START!!!")
    loop = asyncio.get_event_loop()
    loop.run_until_complete(proof_negotiation())
    loop.close()

py_ver = int(f"{sys.version_info.major}{sys.version_info.minor}")
if py_ver > 37 and sys.platform.startswith('win'):
    asyncio.set_event_loop_policy(asyncio.WindowsSelectorEventLoopPolicy())

main()
```

- ìœ„ ì½”ë“œë¥¼ Unityê°€ ì•„ë‹Œ í™˜ê²½ì—ì„œ í…ŒìŠ¤íŠ¸í•  ê²½ìš° pipë¥¼ ì‚¬ìš©í•œ ë‹¤ìš´ë¡œë“œ ë° libindy íŒŒì¼ ë‹¤ìš´, pythonì´ ìˆëŠ” í™˜ê²½ì—ì„œ ì‹¤í–‰ì„ í•´ í…ŒìŠ¤íŠ¸í•  ìˆ˜ë„ ìˆë‹¤.

    ```bash
    # íŒŒì¼ ê²½ë¡œë¡œ ì´ë™
    python pythonTest.py
    ```

## dotnet wrapper ì‚¬ìš©(.NET)

.NET(dotnet)ì˜ ê²½ìš° Microsoftì—ì„œ ë§Œë“  ì˜¤í”ˆ ì†ŒìŠ¤ ê°œë°œì í”Œë«í¼ìœ¼ë¡œ ë‹¤ì–‘í•œ ìœ í˜•ì˜ ì–´í”Œë¦¬ì¼€ì´ì…˜ ê°œë°œì„ ìœ„í•œ ê¸°ëŠ¥ì„ ì œê³µí•´ì¤€ë‹¤.

.NETì˜ ê²½ìš° C#, F# ë˜ëŠ” Visual Basic ë“±ì˜ ì–¸ì–´ë¥¼ ì§€ì›í•œë‹¤. 

### NuGetì„ ì‚¬ìš©í•œ íŒ¨í‚¤ì§€ ë‹¤ìš´

NuGetì´ë€ .NETì„ ì‚¬ìš©í•œ ê°œë°œì„ ìœ„í•´ ë‹¤ì–‘í•œ íŒ¨í‚¤ì§€ë¥¼ ì œê³µí•´ì¤€ë‹¤. indy-sdkì˜ ê²½ìš° dotnet wrapperë¥¼ ì œê³µí•˜ë©° NuGetì„ ì‚¬ìš©í•´ ë‹¤ìš´ë°›ì„ ìˆ˜ ìˆë‹¤. 

Unityì˜ ê²½ìš° NuGet ì‚¬ìš©ì„ ìœ„í•œ í”ŒëŸ¬ê·¸ì¸ì„ ë°›ì•„ ì‚¬ìš©í•´ì•¼í•œë‹¤. í”ŒëŸ¬ê·¸ì¸ì˜ ê²½ìš° [í•´ë‹¹ ë§í¬](https://github.com/GlitchEnzo/NuGetForUnity)ì˜ í”ŒëŸ¬ê·¸ì¸ì„ ì‚¬ìš©í•œë‹¤. 

ì‚¬ìš©ë²•ì˜ ê²½ìš° Window -> Package Managerë¥¼ ì¼  ë’¤ ì™¼ìª½ ìœ„ì˜ '+' ë²„íŠ¼ì„ ëˆŒëŸ¬ 'Add package from git URL...'ë¥¼ ëˆŒëŸ¬ 'https://github.com/GlitchEnzo/NuGetForUnity.git?path=/src/NuGetForUnity' ë§í¬ë¥¼ ë„£ì–´ ì‹¤í–‰í•œë‹¤. ì´ë¥¼ í†µí•´ NuGetForUnityë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. 

NuGetForUnity ë‹¤ìš´ ì´í›„ ìœ„ NuGet ì°½ì´ ìƒê¸°ë©° NuGet -> Manage NuGet Packagesë¥¼ í†µí•´ íŒ¨í‚¤ì§€ë¥¼ ë‹¤ìš´ë°›ì„ ìˆ˜ ìˆë‹¤.

íŒ¨í‚¤ì§€ì˜ ê²½ìš° Online -> Searchì— í•„ìš”í•œ íŒ¨í‚¤ì§€ë¥¼ ê²€ìƒ‰í•˜ì—¬ ë‹¤ìš´ ë°›ì„ ìˆ˜ ìˆë‹¤. indy-sdkì˜ dotnet wrapperëŠ” [í•´ë‹¹ ë§í¬](https://github.com/hyperledger/indy-sdk/tree/main/wrappers/dotnet)ì— ì •ë³´ê°€ ìˆë‹¤. Searchì— Hyperledger.Indy.Sdkë¥¼ ê²€ìƒ‰í•˜ë©´ ë‚˜ì˜¤ë©° ë‹¤ìš´ ë°›ìœ¼ë©´ íŒ¨í‚¤ì§€ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

### indy-sdk dotnet wrapper ì‚¬ìš©

ìœ„ ë°©ë²•ì„ í†µí•´ indy-sdk dotnet wrapperë¥¼ ë‹¤ìš´ ë°›ìœ¼ë©´ íŒ¨í‚¤ì§€ë¥¼ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ìˆìœ¼ë‚˜ ì‚¬ìš©ì„ ìœ„í•´ì„  indy ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ ìˆì–´ì•¼í•œë‹¤. 

- ìœˆë„ìš° libindy : https://repo.sovrin.org/windows/libindy/stable/1.16.0/libindy_1.16.0.zip

ìœ„ ë§í¬ë¥¼ í†µí•´ libindyë¥¼ ë‹¤ìš´ ë°›ê³  ì••ì¶•ì„ í’€ì–´ ë‚˜ì˜¤ëŠ” í´ë” ì¤‘ 'lib' í´ë”ì— ìˆëŠ” dll íŒŒì¼ë“¤ì„ 'Assets\Plugins' í´ë” ë‚´ë¶€ì— ë¶™ì—¬ë„£ê¸°í•˜ë©´ ëœë‹¤. Plugins í´ë”ì˜ ê²½ìš° ì—†ìœ¼ë©´ ìƒˆë¡œ ë§Œë“¤ì–´ ì‚¬ìš©í•œë‹¤.

ì•ì„  ê³¼ì •ì„ í†µí•´ libindyë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìœ¼ë©° ì´ë¥¼ ì‚¬ìš©í•œ ì½”ë“œëŠ” ì•„ë˜ì™€ ê°™ë‹¤.

- Assets\Scripts\IndyTest.cs

```C#
using System.Collections;
using System.Collections.Generic;
using System.Runtime.InteropServices;
using UnityEngine;
using System;
using UnityEngine.UI;
using System.IO;

using Hyperledger.Indy.WalletApi;
using Hyperledger.Indy.DidApi;
using Hyperledger.Indy.PoolApi;

public class IndyTest : MonoBehaviour
{
    string wallet_config;
    string wallet_credentials = "{\"key\":\"wallet_key\"}";

    public Text text;

    int wallet = 0;

    string genesis_file_path = null;
    string test_url = "http://220.68.5.139:9000/genesis";

    // Start is called before the first frame update
    void Start()
    {
        /*
        wallet_config = "{\"id\":\"wallet\", \"storage_type\": {\"path\": \"" + Application.dataPath + 
        "/.indy_client/wallet\"}}";
        */
        wallet_config = "{\"id\":\"wallet_unity\"}";
        Debug.Log(wallet_config);

        genesis_file_path = Application.dataPath + "/genesis.txn";
        HttpClient httpClient = HttpClient.GetInstance();
        string genesis_file_ = httpClient.CreateGenesisFile(genesis_file_path);
        Debug.Log("genesis_file_: " + genesis_file_);
    }

        void Update()
    {

        if (Input.GetKeyDown(KeyCode.V))
        {
            Debug.Log("Wallet API Test Start");
            IndyWalletApiTestFun();
        }

        if (Input.GetKeyDown(KeyCode.B))
        {
            Debug.Log("Pool API Test Start");
            IndyPoolApiTestFun();
        }

        if (Input.GetKeyDown(KeyCode.Escape))
        {
            Debug.Log("Quit");
            Application.Quit();
        }
    }

    public void IndyWalletApiTestFun()
    {
        string wallet_name = "wallet";
        string wallet_config = "{\"id\":\"" + wallet_name + "\", \"storage_type\": {\"path\": \"" 
        + Application.dataPath + "/indy/wallet\"}}";
        string wallet_credentials = "{\"key\":\"wallet_key\"}";

        Wallet wallet_handle = null;
        CreateAndStoreMyDidResult did = null;
        string did_list = null;

        try
        {
            Debug.Log("Indy Create Wallet");
            Wallet.CreateWalletAsync(wallet_config, wallet_credentials).Wait();

            Debug.Log("Indy Open Wallet");
            wallet_handle = Wallet.OpenWalletAsync(wallet_config, wallet_credentials).Result;
            Debug.Log("Wallet Handle: " + wallet_handle.ToString());

            Debug.Log("Indy Create DID");
            string did_json = "{\"seed\":\"test0000000000000000000000000000\"}";
            did = Did.CreateAndStoreMyDidAsync(wallet_handle, did_json).Result;
            Debug.Log("DID: " + did);

            Debug.Log("Indy List DID");
            did_list = Did.ListMyDidsWithMetaAsync(wallet_handle).Result;
            Debug.Log("DID List: " + did_list);

            text.text = did_list;
        }
        catch (Exception e)
        {
            Debug.Log(e.ToString());
        }
        finally
        {
            Debug.Log("Indy Close Wallet");
            wallet_handle.CloseAsync().Wait();

            //Debug.Log("Indy Delete Wallet");
            //Wallet.DeleteWalletAsync(wallet_config, wallet_credentials).Wait();
        }
    }

    public void IndyPoolApiTestFun()
    {
        if(false == File.Exists(genesis_file_path))
        {
            Debug.Log("Genesis File is Null");
            return;
        }

        string pool_name = "pool";
        string pool_config = "{\"genesis_txn\":\"" + genesis_file_path + "\"}";
        Debug.Log("Pool Config: " + pool_config);

        Pool pool_handle = null;

        try
        {
            Debug.Log("Indy Create Pool Ledger Config");
            Pool.CreatePoolLedgerConfigAsync(pool_name, pool_config).Wait();

            Debug.Log("Indy Open Pool Ledger");
            pool_handle = Pool.OpenPoolLedgerAsync(pool_name, pool_config).Result;
            Debug.Log("Pool Handle: " + pool_handle.ToString());

            text.text = pool_handle.ToString();
        }
        catch (Exception e)
        {
            Debug.Log(e.ToString());
        }
        finally
        {
            Debug.Log("Indy Close Pool Ledger");
            pool_handle.CloseAsync().Wait();
            Debug.Log("Indy Delete Pool Ledger Config");
            Pool.DeletePoolLedgerConfigAsync(pool_name).Wait();
        }
    }
}
```